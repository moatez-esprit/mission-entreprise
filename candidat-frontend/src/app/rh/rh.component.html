<div class="container mt-5">
  <h2 class="text-center">Interface RH - Offres d'emploi</h2>

  <div *ngFor="let job of jobs" class="card mt-3 p-3">
    <h4>{{ job.title }}</h4>
    <p>{{ job.company }} - {{ job.location }}</p>
    <p>{{ job.description }}</p>

    <div class="d-flex gap-2">
      <button class="btn btn-outline-primary" (click)="onMatch(job)">Best Score</button>
      <button class="btn btn-outline-secondary" (click)="viewApplications(job)">Voir les CVs</button>
    </div>

    <!-- Liste des CVs associÃ©s Ã  cette offre -->
    <div *ngIf="selectedJobId === job.id && selectedCvs.length > 0" class="mt-3 border-top pt-2">
      <h5>CVs pour cette offre :</h5>
      <ul>
        <li *ngFor="let cv of selectedCvs" class="mb-2">
          <strong>{{ cv.name }}</strong>
          <p>{{ cv.text | slice:0:100 }}...</p>
        </li>
      </ul>
    </div>
    <div *ngIf="testDates && testDates[job.id]" class="mt-2 text-info">
  ðŸ“… Test planifiÃ© pour ce poste : {{ testDates[job.id] | date:'full' }}
    </div>
  </div>
</div>

